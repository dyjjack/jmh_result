(function(){"use strict";var t={87733:function(t,e,r){var a=r(66848),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("el-row",[e("el-col",{attrs:{span:12}},[e("PullRequest")],1),e("el-col",{attrs:{span:12}},[e("ScheduledTask")],1)],1),e("el-row",[e("el-col",{attrs:{span:12}},[e("RpcTask")],1),e("el-col",{attrs:{span:12}},[e("SerializationTask")],1)],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("TraceDetail")],1)],1)],1)},o=[],i=function(){var t=this;t._self._c;return t._m(0)},s=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"PullRequest"}})])}],l=(r(44114),{name:"PullRequest",mounted(){this.myEcharts()},methods:{myEcharts(){const t=this.$echarts.init(document.getElementById("PullRequest"));let e,r;this.$.ajax({type:"GET",async:!1,url:"https://raw.kkgithub.com/wxbty/jmh_result/main/test-results/pr/merged_results.json",success:function(t){e=t}});try{r=JSON.parse(e)}catch(l){return void console.error("解析JMH结果字符串出错：",l)}let a=r.filter((t=>"avgt"===t.mode)).reduce(((t,e)=>{let{time:r,serialization:a,protocol:n}=e.params,o={time:Number(r),score:Math.round(e.primaryMetric.score),serialization:a,protocol:n},i=n+"-"+a;return t[i]||(t[i]=[]),t[i].push(o),t}),{}),n={};function o(t){var e=new Date(t);return e.toLocaleDateString("en-US")+" "+e.toLocaleTimeString("en-US")}Object.entries(a).forEach((([t,e])=>{let r=e.sort(((t,e)=>t.time-e.time));n[t]={time:r.map((t=>t.time)),score:r.map((t=>t.score))}}));let i=Object.keys(n).map((t=>{let e=n[t].time.map(((e,r)=>({name:o(e),value:[e,n[t].score[r]]})));return{name:t,type:"line",showSymbol:!0,hoverAnimation:!1,symbolSize:10,markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]},markLine:{data:[{type:"average",name:"Avg"}]},data:e}})),s={title:{text:"PR情况",x:"center"},tooltip:{trigger:"axis",formatter:function(t){let e=t[0].axisValueLabel+"<br/>";return t.forEach((t=>{e+=t.marker+" "+(null!==t.data.value[1]?t.data.value[1]:"-")+"ms<br/>"})),e}},grid:{left:"3%",right:"3%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"time",boundaryGap:!1},yAxis:{type:"value",name:"耗时(ms)"},series:i};t.setOption(s)}}}),c=l,u=r(81656),p=(0,u.A)(c,i,s,!1,null,"93a8a0e8",null),m=p.exports,d=function(){var t=this;t._self._c;return t._m(0)},h=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"ScheduledTask"}})])}],f={name:"ScheduledTask",mounted(){this.myEcharts()},methods:{myEcharts(){const t=this.$echarts.init(document.getElementById("ScheduledTask"));let e,r;this.$.ajax({type:"GET",async:!1,url:"https://raw.kkgithub.com/wxbty/jmh_result/main/test-results/scheduled/merged_results.json",success:function(t){e=t}});try{r=JSON.parse(e)}catch(l){return void console.error("解析JMH结果字符串出错：",l)}let a=r.filter((t=>"avgt"===t.mode)).reduce(((t,e)=>{let{time:r,serialization:a,protocol:n}=e.params,o={time:Number(r),score:Math.round(e.primaryMetric.score),serialization:a,protocol:n},i=n+"-"+a;return t[i]||(t[i]=[]),t[i].push(o),t}),{}),n={};function o(t){var e=new Date(t);return e.toLocaleDateString("en-US")+" "+e.toLocaleTimeString("en-US")}Object.entries(a).forEach((([t,e])=>{let r=e.sort(((t,e)=>t.time-e.time));n[t]={time:r.map((t=>t.time)),score:r.map((t=>t.score))}}));let i=Object.keys(n).map((t=>{let e=n[t].time.map(((e,r)=>({name:o(e),value:[e,n[t].score[r]]})));return{name:t,type:"line",showSymbol:!0,hoverAnimation:!1,symbolSize:10,markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]},markLine:{data:[{type:"average",name:"Avg"}]},data:e}})),s={title:{text:"Schedule情况",x:"center"},tooltip:{trigger:"axis",formatter:function(t){let e=t[0].axisValueLabel+"<br/>";return t.forEach((t=>{e+=t.marker+" "+(null!==t.data.value[1]?t.data.value[1]:"-")+"ms<br/>"})),e}},grid:{left:"3%",right:"3%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"time",boundaryGap:!1},yAxis:{type:"value",name:"耗时(ms)"},series:i};t.setOption(s)}}},y=f,b=(0,u.A)(y,d,h,!1,null,"8af9cb90",null),v=b.exports,g=function(){var t=this,e=t._self._c;return e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{label:"指标",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row["dubbo.protocol.serialization"])+" ")]}}])}),e("el-table-column",{scopedSlots:t._u([{key:"default",fn:function({row:r}){return[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.createSpanTree(r.spans_),"row-key":"spanId_",border:"",lazy:"","tree-props":{children:"children"}}},[e("el-table-column",{attrs:{prop:"operationName_",label:"日期"}}),e("el-table-column",{attrs:{prop:"cost",label:"耗时（ms）"}})],1)]}}])})],1)],1)},x=[],_={name:"TraceDetail",props:{url:String},data(){return{tableData:[]}},mounted(){this.initTable()},methods:{initTable(){let t,e;this.$.ajax({type:"GET",async:!1,url:"https://raw.kkgithub.com/wxbty/jmh_result/main/test-results/trace/jmh_trace_result.json",success:function(e){t=e}});try{e=JSON.parse(t)}catch(r){return void console.error("解析JMH结果字符串出错：",r)}this.tableData=e},createSpanTree(t){console.log(t);let e=new Map,r=[];for(let a of t)e.set(a.spanId_,{...a,spanId_:a.spanId_.toString(),cost:a.endTime_-a.startTime_,children:[]}),-1===a.parentSpanId_&&r.push(e.get(a.spanId_));for(let a of t)if(-1!==a.parentSpanId_){let t=e.get(a.parentSpanId_);t&&t.children.push(e.get(a.spanId_))}return console.log(r),r}}},S=_,k=(0,u.A)(S,g,x,!1,null,"0ee26748",null),w=k.exports,T=function(){var t=this;t._self._c;return t._m(0)},j=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"RpcTask"}})])}],O={name:"RpcTask",mounted(){this.myEcharts()},methods:{myEcharts(){const t=this.$echarts.init(document.getElementById("RpcTask"));let e,r;this.$.ajax({type:"GET",async:!1,url:"https://raw.kkgithub.com/wxbty/jmh_result/main/test-results/fixed/rpc/merged_prop_results.json",success:function(t){e=t}});try{r=JSON.parse(e)}catch(o){console.error("解析JMH结果字符串出错：",o)}let a=r.filter((t=>"avgt"===t.mode)).map((t=>{let e=t.params["dubbo.protocol.name"];return{score:Math.round(t.primaryMetric.score),protocol:e}})),n={title:{text:"RPC对比",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"none"},formatter:function(t){return t[0].data.score+"ms"}},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"3%",bottom:"3%",containLabel:!0},xAxis:{type:"category"},yAxis:{type:"value",name:"耗时(ms)"},dataset:{dimensions:["protocol","score"],source:a},series:[{type:"bar",label:{show:!0,position:"top",textStyle:{fontSize:"30px",color:"#666"}}}]};t.setOption(n)}}},A=O,E=(0,u.A)(A,T,j,!1,null,"5928bad4",null),M=E.exports,z=function(){var t=this;t._self._c;return t._m(0)},I=[function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"SerializationTask"}})])}],P={name:"SerializationTask",mounted(){this.myEcharts()},methods:{myEcharts(){const t=this.$echarts.init(document.getElementById("SerializationTask"));let e,r;this.$.ajax({type:"GET",async:!1,url:"https://raw.kkgithub.com/wxbty/jmh_result/main/test-results/fixed/serialization/merged_prop_results.json",success:function(t){e=t}});try{r=JSON.parse(e)}catch(o){console.error("解析JMH结果字符串出错：",o)}let a=r.filter((t=>"avgt"===t.mode)).map((t=>{let e=t.params["dubbo.protocol.serialization"];return{score:Math.round(t.primaryMetric.score),protocol:e}})),n={title:{text:"Serialization对比",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"none"},formatter:function(t){return t[0].data.score+"ms"}},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"3%",bottom:"3%",containLabel:!0},xAxis:{type:"category"},yAxis:{type:"value",name:"耗时(ms)"},dataset:{dimensions:["protocol","score"],source:a},series:[{type:"bar",label:{show:!0,position:"top",textStyle:{fontSize:"30px",color:"#666"}}}]};t.setOption(n)}}},L=P,R=(0,u.A)(L,z,I,!1,null,"41521bde",null),$=R.exports,D={name:"App",components:{SerializationTask:$,RpcTask:M,TraceDetail:w,ScheduledTask:v,PullRequest:m}},J=D,N=(0,u.A)(J,n,o,!1,null,null,null),G=N.exports,q=r(89143),H=r.n(q),B=r(76236),U=r.n(B),C=r(46587),V=r.n(C);a["default"].prototype.$=V(),a["default"].prototype.$echarts=U(),a["default"].use(H()),a["default"].config.productionTip=!1,new a["default"]({render:t=>t(G)}).$mount("#app")}},e={};function r(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,r),o.exports}r.m=t,function(){var t=[];r.O=function(e,a,n,o){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],n=t[u][1],o=t[u][2];for(var s=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((function(t){return r.O[t](a[l])}))?a.splice(l--,1):(s=!1,o<i&&(i=o));if(s){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[a,n,o]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var a in e)r.o(e,a)&&!r.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};r.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,o,i=a[0],s=a[1],l=a[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(l)var u=l(r)}for(e&&e(a);c<i.length;c++)o=i[c],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(u)},a=self["webpackChunkdubbo_benchmark"]=self["webpackChunkdubbo_benchmark"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=r.O(void 0,[504],(function(){return r(87733)}));a=r.O(a)})();
//# sourceMappingURL=app.96067c7c.js.map