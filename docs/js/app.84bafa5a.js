(function(){"use strict";var e={42168:function(e,t,r){var a=r(66848),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("PullRequest")],1),t("el-col",{attrs:{span:12}},[t("ScheduledTask")],1)],1),t("el-row",[t("el-col",{attrs:{span:12}},[t("RpcTask")],1),t("el-col",{attrs:{span:12}},[t("SerializationTask")],1)],1),t("el-row",[t("el-col",{attrs:{span:24}},[t("TraceDetail")],1)],1)],1)},o=[],s=function(){var e=this;e._self._c;return e._m(0)},i=[function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"PullRequest"}})])}],l=(r(44114),{name:"PullRequest",mounted(){this.myEcharts()},methods:{myEcharts(){const e=this.$echarts.init(document.getElementById("PullRequest"));let t,r;this.$.ajax({type:"GET",async:!1,url:"https://raw.kkgithub.com/wxbty/jmh_result/main/test-results/pr/merged_results.json",success:function(e){t=e}});try{r=JSON.parse(t)}catch(l){return void console.error("解析JMH结果字符串出错：",l)}let a=r.filter((e=>"avgt"===e.mode)).reduce(((e,t)=>{let{time:r,serialization:a,protocol:n}=t.params,o={time:Number(r),score:Math.round(t.primaryMetric.score),serialization:a,protocol:n},s=n+"-"+a;return e[s]||(e[s]=[]),e[s].push(o),e}),{}),n={};function o(e){var t=new Date(e);return t.toLocaleDateString("en-US")+" "+t.toLocaleTimeString("en-US")}Object.entries(a).forEach((([e,t])=>{let r=t.sort(((e,t)=>e.time-t.time));n[e]={time:r.map((e=>e.time)),score:r.map((e=>e.score))}}));let s=Object.keys(n).map((e=>{let t=n[e].time.map(((t,r)=>({name:o(t),value:[t,n[e].score[r]]})));return{name:e,type:"line",showSymbol:!0,hoverAnimation:!1,symbolSize:10,markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]},markLine:{data:[{type:"average",name:"Avg"}]},data:t}})),i={title:{text:"PR情况",x:"center"},tooltip:{trigger:"axis",formatter:function(e){let t=e[0].axisValueLabel+"<br/>";return e.forEach((e=>{t+=e.marker+" "+(null!==e.data.value[1]?e.data.value[1]:"-")+"ms<br/>"})),t}},grid:{left:"3%",right:"3%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"time",boundaryGap:!1},yAxis:{type:"value",name:"耗时(ms)"},series:s};e.setOption(i)}}}),c=l,u=r(81656),p=(0,u.A)(c,s,i,!1,null,"93a8a0e8",null),d=p.exports,m=function(){var e=this;e._self._c;return e._m(0)},h=[function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"ScheduledTask"}})])}],f={name:"ScheduledTask",mounted(){this.myEcharts()},methods:{myEcharts(){const e=this.$echarts.init(document.getElementById("ScheduledTask"));let t,r;this.$.ajax({type:"GET",async:!1,url:"https://raw.kkgithub.com/wxbty/jmh_result/main/test-results/scheduled/merged_results.json",success:function(e){t=e}});try{r=JSON.parse(t)}catch(l){return void console.error("解析JMH结果字符串出错：",l)}let a=r.filter((e=>"avgt"===e.mode)).reduce(((e,t)=>{let{time:r,serialization:a,protocol:n}=t.params,o={time:Number(r),score:Math.round(t.primaryMetric.score),serialization:a,protocol:n},s=n+"-"+a;return e[s]||(e[s]=[]),e[s].push(o),e}),{}),n={};function o(e){var t=new Date(e);return t.toLocaleDateString("en-US")+" "+t.toLocaleTimeString("en-US")}Object.entries(a).forEach((([e,t])=>{let r=t.sort(((e,t)=>e.time-t.time));n[e]={time:r.map((e=>e.time)),score:r.map((e=>e.score))}}));let s=Object.keys(n).map((e=>{let t=n[e].time.map(((t,r)=>({name:o(t),value:[t,n[e].score[r]]})));return{name:e,type:"line",showSymbol:!0,hoverAnimation:!1,symbolSize:10,markPoint:{data:[{type:"max",name:"Max"},{type:"min",name:"Min"}]},markLine:{data:[{type:"average",name:"Avg"}]},data:t}})),i={title:{text:"Schedule情况",x:"center"},tooltip:{trigger:"axis",formatter:function(e){let t=e[0].axisValueLabel+"<br/>";return e.forEach((e=>{t+=e.marker+" "+(null!==e.data.value[1]?e.data.value[1]:"-")+"ms<br/>"})),t}},grid:{left:"3%",right:"3%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"time",boundaryGap:!1},yAxis:{type:"value",name:"耗时(ms)"},series:s};e.setOption(i)}}},y=f,b=(0,u.A)(y,m,h,!1,null,"8af9cb90",null),x=b.exports,v=function(){var e=this,t=e._self._c;return t("div",[t("el-select",{staticStyle:{width:"100px",left:"0px"},attrs:{placeholder:"选择展开级别",size:"mini"},on:{change:e.handleExpandNumChange},model:{value:e.ExpandedNum,callback:function(t){e.ExpandedNum=t},expression:"ExpandedNum"}},[t("el-option",{attrs:{label:"不展开",value:0}}),t("el-option",{attrs:{label:"展开",value:Number.MAX_VALUE}})],1),t("el-table",{key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.tableData,"row-key":"spanId_","expand-row-keys":e.expandID,border:"",lazy:"","tree-props":{children:"children"}}},[t("el-table-column",{attrs:{prop:"operationName_",label:"日期"}}),t("el-table-column",{attrs:{prop:"cost",label:"耗时（ms）"}})],1)],1)},g=[],_={name:"TraceDetail",data(){return{ExpandedNum:0,tableKey:!0,expandID:[],tableData:[]}},watch:{ExpandedNum:{deep:!0,handler(e){this.ExpandedNum=e}},ExpandedKeysCache:{deep:!0,handler(e){this.ExpandedKeysCache=e}}},mounted(){this.initTable()},methods:{initTable(){let e,t;this.$.ajax({type:"GET",async:!1,url:"https://raw.kkgithub.com/wxbty/jmh_result/main/test-results/trace/jmh_trace_result.json",success:function(t){e=t}});try{t=JSON.parse(e)}catch(r){return void console.error("解析JMH结果字符串出错：",r)}this.tableData=this.createSpanTree(t[0].spans_)},handleExpandNumChange(){this.expandID=[],this.tableKey=!this.tableKey,console.error("1：",this.ExpandedNum),console.error("2：",this.expandID),this.ExpandedNum>0&&this.setExpandKeys(this.tableData),console.error("3：",this.ExpandedNum),console.error("4：",this.expandID)},setExpandKeys(e,t){console.error("4：",this.expandID),t||(t=1);for(let r=0;r<e.length;r++)if(t<=this.ExpandedNum&&(this.expandID.push(`${e[r].spanId_}`),Object.prototype.hasOwnProperty.call(e[r],"children"))){const a=e[r].children;this.setExpandKeys(a,t+1)}},createSpanTree(e){let t=new Map,r=[];for(let a of e)t.set(a.spanId_,{...a,spanId_:a.spanId_.toString(),cost:a.endTime_-a.startTime_,children:[]}),-1===a.parentSpanId_&&r.push(t.get(a.spanId_));for(let a of e)if(-1!==a.parentSpanId_){let e=t.get(a.parentSpanId_);e&&e.children.push(t.get(a.spanId_))}return r}}},S=_,k=(0,u.A)(S,v,g,!1,null,"5ccfb68a",null),E=k.exports,w=function(){var e=this;e._self._c;return e._m(0)},T=[function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"RpcTask"}})])}],j={name:"RpcTask",mounted(){this.myEcharts()},methods:{myEcharts(){const e=this.$echarts.init(document.getElementById("RpcTask"));let t,r;this.$.ajax({type:"GET",async:!1,url:"https://raw.kkgithub.com/wxbty/jmh_result/main/test-results/fixed/rpc/merged_prop_results.json",success:function(e){t=e}});try{r=JSON.parse(t)}catch(o){console.error("解析JMH结果字符串出错：",o)}let a=r.filter((e=>"avgt"===e.mode)).map((e=>{let t=e.params["dubbo.protocol.name"];return{score:Math.round(e.primaryMetric.score),protocol:t}})),n={title:{text:"RPC对比",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"none"},formatter:function(e){return e[0].data.score+"ms"}},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"3%",bottom:"3%",containLabel:!0},xAxis:{type:"category"},yAxis:{type:"value",name:"耗时(ms)"},dataset:{dimensions:["protocol","score"],source:a},series:[{type:"bar",label:{show:!0,position:"top",textStyle:{fontSize:"30px",color:"#666"}}}]};e.setOption(n)}}},O=j,A=(0,u.A)(O,w,T,!1,null,"5928bad4",null),I=A.exports,M=function(){var e=this;e._self._c;return e._m(0)},N=[function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"SerializationTask"}})])}],z={name:"SerializationTask",mounted(){this.myEcharts()},methods:{myEcharts(){const e=this.$echarts.init(document.getElementById("SerializationTask"));let t,r;this.$.ajax({type:"GET",async:!1,url:"https://raw.kkgithub.com/wxbty/jmh_result/main/test-results/fixed/serialization/merged_prop_results.json",success:function(e){t=e}});try{r=JSON.parse(t)}catch(o){console.error("解析JMH结果字符串出错：",o)}let a=r.filter((e=>"avgt"===e.mode)).map((e=>{let t=e.params["dubbo.protocol.serialization"];return{score:Math.round(e.primaryMetric.score),protocol:t}})),n={title:{text:"Serialization对比",x:"center"},tooltip:{trigger:"axis",axisPointer:{type:"none"},formatter:function(e){return e[0].data.score+"ms"}},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"3%",bottom:"3%",containLabel:!0},xAxis:{type:"category"},yAxis:{type:"value",name:"耗时(ms)"},dataset:{dimensions:["protocol","score"],source:a},series:[{type:"bar",label:{show:!0,position:"top",textStyle:{fontSize:"30px",color:"#666"}}}]};e.setOption(n)}}},D=z,P=(0,u.A)(D,M,N,!1,null,"41521bde",null),L=P.exports,$={name:"App",components:{SerializationTask:L,RpcTask:I,TraceDetail:E,ScheduledTask:x,PullRequest:d}},R=$,J=(0,u.A)(R,n,o,!1,null,null,null),K=J.exports,C=r(89143),G=r.n(C),q=r(76236),H=r.n(q),U=r(46587),B=r.n(U);a["default"].prototype.$=B(),a["default"].prototype.$echarts=H(),a["default"].use(G()),a["default"].config.productionTip=!1,new a["default"]({render:e=>e(K)}).$mount("#app")}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,r),o.exports}r.m=e,function(){var e=[];r.O=function(t,a,n,o){if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],n=e[u][1],o=e[u][2];for(var i=!0,l=0;l<a.length;l++)(!1&o||s>=o)&&Object.keys(r.O).every((function(e){return r.O[e](a[l])}))?a.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[a,n,o]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,s=a[0],i=a[1],l=a[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(l)var u=l(r)}for(t&&t(a);c<s.length;c++)o=s[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},a=self["webpackChunkdubbo_benchmark"]=self["webpackChunkdubbo_benchmark"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=r.O(void 0,[504],(function(){return r(42168)}));a=r.O(a)})();
//# sourceMappingURL=app.84bafa5a.js.map